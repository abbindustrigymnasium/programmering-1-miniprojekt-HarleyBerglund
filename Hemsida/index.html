<!DOCTYPE html>
<html>

<head>
    <title>Kolhydratsräknare</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="utf-8">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
    <script type="text/javascript" src="Data.js"></script>
    <script type="text/javascript" src="Functions.js"></script>
    <script type="text/javascript" src="Keys.js"></script>

</head>

<body>
    <div class="wrap">
        <div class="search">
            <input type="text" class="searchTerm" placeholder="Vad vill du veta innehållet på?" id="searchResult">              <!--Searchfield-->
            <input type="submit" class="searchButton" onclick="searchName()">                                                   <!--When the button is pressed it runs the searchName function-->
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>

    <script>
        LIVSMEDEL = (JSON.parse(livsmedel));                    //Parsing the string object into a json object

        function searchName() {
            var input = document.getElementById('searchResult');                //Fetches the search result
            //console.log(input.value);
            var inputVal = (input.value);
            var res = inputVal.toLowerCase();                           //Takes the value from the searchbox and makes all letters to lowercase
            FINALSEARCH = (capitalizeFirstLetter(res));                 //Sets the first letter in the search results to uppercase

            var searched = -1;
            for (var i = 0; i < LIVSMEDEL.length; i++) {
                if (LIVSMEDEL[i].namn == FINALSEARCH) {                        //searched is set to the index of the element
                    searched = i;
                    break;
                }
            }
            console.log(searched);
            console.log(JSON.parse(livsmedel)[searched].kolhydrater);


            KOLHYDRATER = (JSON.parse(livsmedel)[searched].kolhydrater);
            FETT = (JSON.parse(livsmedel)[searched].fett);
            FIBRER = (JSON.parse(livsmedel)[searched].fibrer);
            ALKOHOL = (JSON.parse(livsmedel)[searched].alkohol);

            document.getElementById("Namn").innerHTML = FINALSEARCH;
            document.getElementById("Kolhydrater").innerHTML = KOLHYDRATER;
            document.getElementById("Fett").innerHTML = FETT;
            document.getElementById("Fibrer").innerHTML = FIBRER;
            document.getElementById("Alkohol").innerHTML = ALKOHOL;
        }
    </script>

<div class="w3-container">  
    <div class="w3-card-4" style="width:50%;">
      <header class="w3-container w3-blue">
        <p id="Namn"></p>
      </header>
  
      <div class="w3-container">
        <p>Kolhydrater:   <span id="Kolhydrater"></span></p>
        <p>Fett:   <span id="Fett"></span></p>
        <p>Fibrer:   <span id="Fibrer"></span></p>
        <p>Alkohol:   <span id="Alkohol"></span></p>
      </div>
  
      <footer class="w3-container w3-blue">
        <h5>Footer</h5>
      </footer>
    </div>
  </div>

</body>

</html>